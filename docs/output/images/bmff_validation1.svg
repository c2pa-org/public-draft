<svg width="1280" height="720" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><rect x="0" y="0" width="1280" height="720"/></clipPath></defs><g clip-path="url(#clip0)"><rect x="0" y="0" width="1280" height="720" fill="#FFFFFF"/><text fill="#002060" font-family="Calibri Light,Calibri Light_MSFontService,sans-serif" font-weight="700" font-size="16" transform="translate(121.186 390)">CBOR Serialization</text><rect x="88.5001" y="285.5" width="191" height="90" stroke="#000000" stroke-width="0.666667" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" transform="translate(97.5186 304)">•<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="15" x="18" y="0">Array of Merkle rows</tspan><tspan fill="#0070C0" font-size="15" x="0" y="17">•</tspan><tspan fill="#0070C0" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" x="18" y="17">Exclusions[]</tspan><tspan font-size="15" x="0" y="39">•</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" x="18" y="39">alg </tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="19" x="39.1667" y="39">*</tspan><tspan font-size="15" x="0" y="61">•</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="15" x="18" y="61">hash </tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="19" x="49.3333" y="61">*</tspan><tspan font-size="15" x="222.452" y="92">Locate assertion &amp; corresponding merkle row </tspan><tspan font-size="15" x="222.452" y="110">from manifest using the </tspan><tspan fill="#FF0000" font-weight="700" font-size="15" x="378.452" y="110">uniqueId</tspan><tspan font-size="15" x="443.618" y="110">&amp; </tspan><tspan fill="#FF0000" font-weight="700" font-size="15" x="457.452" y="110">localId</tspan><tspan font-size="15" x="222.452" y="127">member of the chunk c2pa box.</tspan></text><path d="M290.5 395C290.5 389.753 294.977 385.5 300.5 385.5 306.023 385.5 310.5 389.753 310.5 395 310.5 400.247 306.023 404.5 300.5 404.5 294.977 404.5 290.5 400.247 290.5 395Z" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(295.89 400)">1</text><rect x="224.5" y="37.5001" width="401" height="189" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#E2F0D9"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="19" transform="translate(306.41 59)">Track #n Initialization Segment</text><path d="M244.5 98.6671C244.5 86.4246 254.425 76.5001 266.667 76.5001L584.333 76.5001C596.576 76.5001 606.5 86.4246 606.5 98.6671L606.5 187.333C606.5 199.576 596.576 209.5 584.333 209.5L266.667 209.5C254.425 209.5 244.5 199.576 244.5 187.333Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#C5E0B4" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="19" transform="translate(390.45 104)">c2pa box<tspan font-weight="400" font-size="19" x="-133.712" y="40">string box_purpose = manifest </tspan><tspan font-weight="400" font-size="19" x="-133.712" y="63">bit (8) data =</tspan></text><path d="M786 85.5C786 83.567 787.791 82 790 82 792.209 82 794 83.567 794 85.5 794 87.433 792.209 89 790 89 787.791 89 786 87.433 786 85.5Z" fill-rule="evenodd"/><path d="M786 101.5C786 99.567 787.791 98 790 98 792.209 98 794 99.567 794 101.5 794 103.433 792.209 105 790 105 787.791 105 786 103.433 786 101.5Z" fill-rule="evenodd"/><path d="M786 117.5C786 115.567 787.791 114 790 114 792.209 114 794 115.567 794 117.5 794 119.433 792.209 121 790 121 787.791 121 786 119.433 786 117.5Z" fill-rule="evenodd"/><rect x="676.5" y="185.5" width="230" height="37" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(738.612 204)">Track Chunk m+2</text><rect x="676.5" y="563.5" width="230" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(738.612 582)">Track Chunk m+4</text><path d="M785 678.5C785 676.567 786.791 675 789 675 791.209 675 793 676.567 793 678.5 793 680.433 791.209 682 789 682 786.791 682 785 680.433 785 678.5Z" fill-rule="evenodd"/><path d="M785 694.5C785 692.567 786.791 691 789 691 791.209 691 793 692.567 793 694.5 793 696.433 791.209 698 789 698 786.791 698 785 696.433 785 694.5Z" fill-rule="evenodd"/><path d="M785 710.5C785 708.567 786.791 707 789 707 791.209 707 793 708.567 793 710.5 793 712.433 791.209 714 789 714 786.791 714 785 712.433 785 710.5Z" fill-rule="evenodd"/><rect x="676.5" y="241.5" width="230" height="305" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="24" transform="translate(706.325 268)">Track Chunk m+3</text><path d="M682.5 362.667C682.5 350.425 692.425 340.5 704.667 340.5L874.333 340.5C886.576 340.5 896.5 350.425 896.5 362.667L896.5 451.333C896.5 463.575 886.576 473.5 874.333 473.5L704.667 473.5C692.425 473.5 682.5 463.575 682.5 451.333Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#C5E0B4" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="19" transform="translate(754.75 368)">c2pa box<tspan font-weight="400" font-size="15" x="-55.7994" y="38">string box_purpose = merkle </tspan><tspan font-weight="400" font-size="15" x="-55.7994" y="55">bit (8) data =</tspan></text><path d="M733.5 284C733.5 280.963 735.963 278.5 739 278.5L835 278.5C838.038 278.5 840.5 280.963 840.5 284L840.5 306C840.5 309.038 838.038 311.5 835 311.5L739 311.5C735.963 311.5 733.5 309.038 733.5 306Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#C5E0B4" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="15" transform="translate(758.201 299)">moof box</text><path d="M785 320C785 318.895 785.672 318 786.5 318 787.328 318 788 318.895 788 320 788 321.105 787.328 322 786.5 322 785.672 322 785 321.105 785 320Z" fill-rule="evenodd"/><path d="M785 328C785 326.895 785.672 326 786.5 326 787.328 326 788 326.895 788 328 788 329.105 787.328 330 786.5 330 785.672 330 785 329.105 785 328Z" fill-rule="evenodd"/><path d="M785 335.5C785 334.672 785.672 334 786.5 334 787.328 334 788 334.672 788 335.5 788 336.328 787.328 337 786.5 337 785.672 337 785 336.328 785 335.5Z" fill-rule="evenodd"/><path d="M733.5 511C733.5 507.963 735.963 505.5 739 505.5L835 505.5C838.038 505.5 840.5 507.963 840.5 511L840.5 533C840.5 536.038 838.038 538.5 835 538.5L739 538.5C735.963 538.5 733.5 536.038 733.5 533Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#C5E0B4" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="15" transform="translate(749.367 525)">1<tspan font-size="10" x="7.5" y="-4">st</tspan><tspan font-size="15" x="18" y="0">mdat box</tspan></text><path d="M781 479C781 477.895 781.895 477 783 477 784.105 477 785 477.895 785 479 785 480.105 784.105 481 783 481 781.895 481 781 480.105 781 479Z" fill-rule="evenodd"/><path d="M781 487C781 485.895 781.895 485 783 485 784.105 485 785 485.895 785 487 785 488.105 784.105 489 783 489 781.895 489 781 488.105 781 487Z" fill-rule="evenodd"/><path d="M781 495C781 493.895 781.895 493 783 493 784.105 493 785 493.895 785 495 785 496.105 784.105 497 783 497 781.895 497 781 496.105 781 495Z" fill-rule="evenodd"/><rect x="673.5" y="616.5" width="230" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(736.037 635)">Track Chunk m+5</text><rect x="676.5" y="137.5" width="230" height="37" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(738.612 156)">Track Chunk m+1<tspan fill="#4472C4" font-weight="400" font-size="24" x="10.7027" y="-100">Track #n</tspan></text><path d="M1128 89C1128 87.3431 1129.34 86 1131 86 1132.66 86 1134 87.3431 1134 89 1134 90.6569 1132.66 92 1131 92 1129.34 92 1128 90.6569 1128 89Z" fill="#767171" fill-rule="evenodd"/><path d="M1128 105C1128 103.343 1129.34 102 1131 102 1132.66 102 1134 103.343 1134 105 1134 106.657 1132.66 108 1131 108 1129.34 108 1128 106.657 1128 105Z" fill="#767171" fill-rule="evenodd"/><path d="M1128 121C1128 119.343 1129.34 118 1131 118 1132.66 118 1134 119.343 1134 121 1134 122.657 1132.66 124 1131 124 1129.34 124 1128 122.657 1128 121Z" fill="#767171" fill-rule="evenodd"/><rect x="1075.5" y="185.5" width="112" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(1093.94 203)">Track Chunk</text><rect x="1075.5" y="235.5" width="112" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(1093.94 254)">Track Chunk</text><rect x="1075.5" y="288.5" width="112" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(1093.94 307)">Track Chunk</text><rect x="1075.5" y="137.5" width="112" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(1093.94 156)">Track Chunk<tspan fill="#4472C4" font-weight="400" font-size="16" x="6.24329" y="-107">Track n+2 </tspan></text><path d="M1241 39C1243.21 39 1245 40.7909 1245 43 1245 45.2091 1243.21 47 1241 47 1238.79 47 1237 45.2091 1237 43 1237 40.7909 1238.79 39 1241 39Z" fill="#AFABAB" fill-rule="evenodd"/><path d="M1225 39C1227.21 39 1229 40.7909 1229 43 1229 45.2091 1227.21 47 1225 47 1222.79 47 1221 45.2091 1221 43 1221 40.7909 1222.79 39 1225 39Z" fill="#AFABAB" fill-rule="evenodd"/><path d="M1209 39C1211.21 39 1213 40.7909 1213 43 1213 45.2091 1211.21 47 1209 47 1206.79 47 1205 45.2091 1205 43 1205 40.7909 1206.79 39 1209 39Z" fill="#AFABAB" fill-rule="evenodd"/><path d="M0 80 0 41.6604C-7.6388e-15 22.3304 15.67 6.66037 35 6.66037L97.4951 6.66037 97.4951 0 120 7.89357 97.4951 15.7871 97.4951 9.12677 35 9.12677C17.0322 9.12677 2.4664 23.6926 2.4664 41.6604L2.4664 80Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#4472C4" fill-rule="evenodd" transform="matrix(1.83697e-16 1 1 -1.83697e-16 167.5 162.5)"/><path d="M0 39 0 38.9998C0 19.2541 16.0071 3.24696 35.7528 3.24696L81.0289 3.24696 81.0289 0 92 3.84812 81.0289 7.69625 81.0289 4.44928 35.7528 4.44928C16.6711 4.44928 1.20232 19.9181 1.20232 38.9998L1.20242 39Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#4472C4" fill-rule="evenodd" transform="matrix(1.83697e-16 1 1 -1.83697e-16 54.5001 301.5)"/><rect x="53.5001" y="407.5" width="168" height="126" stroke="#000000" stroke-width="0.666667" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" transform="translate(62.584 426)">•<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="15" x="18" y="0">uniqueId</tspan><tspan font-size="15" x="0" y="17">•</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="15" x="18" y="17">localId</tspan><tspan fill="#FF0000" font-size="15" x="0" y="35">•</tspan><tspan fill="#FF0000" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" x="18" y="35">initHash</tspan><tspan font-size="15" x="0" y="53">•</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="15" x="18" y="53">count (# leaf nodes)</tspan><tspan fill="#0070C0" font-size="15" x="0" y="74">•</tspan><tspan fill="#0070C0" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" x="18" y="74">alg </tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="19" x="39.1667" y="74">*</tspan><tspan font-size="15" x="0" y="96">•</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="15" x="18" y="96">hashes[]</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="19" x="72.1667" y="96">*</tspan></text><path d="M288.5 452C288.5 446.753 292.753 442.5 298 442.5 303.247 442.5 307.5 446.753 307.5 452 307.5 457.247 303.247 461.5 298 461.5 292.753 461.5 288.5 457.247 288.5 452Z" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text font-family="Arial,Arial_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(293.776 457)">2<tspan font-weight="400" font-size="15" x="23.3913" y="6">If the hash of the init segment using </tspan><tspan fill="#0070C0" font-size="15" x="258.225" y="6">alg</tspan><tspan font-weight="400" font-size="15" x="283.391" y="6">&amp; </tspan><tspan fill="#0070C0" font-size="15" x="23.3913" y="24">exclusions[] </tspan><tspan font-weight="400" font-size="15" x="112.891" y="24">equals the </tspan><tspan fill="#FF0000" font-size="15" x="184.558" y="24">initHash</tspan><tspan font-weight="400" font-size="15" x="246.391" y="24">stored </tspan><tspan font-weight="400" font-size="15" x="23.3913" y="41">along side the merkle tree row you just </tspan><tspan font-weight="400" font-size="15" x="23.3913" y="59">located, the initialization segment is verified.</tspan></text><path d="M988 89C988 87.3431 989.343 86 991 86 992.657 86 994 87.3431 994 89 994 90.6569 992.657 92 991 92 989.343 92 988 90.6569 988 89Z" fill="#767171" fill-rule="evenodd"/><path d="M988 105C988 103.343 989.343 102 991 102 992.657 102 994 103.343 994 105 994 106.657 992.657 108 991 108 989.343 108 988 106.657 988 105Z" fill="#767171" fill-rule="evenodd"/><path d="M988 121C988 119.343 989.343 118 991 118 992.657 118 994 119.343 994 121 994 122.657 992.657 124 991 124 989.343 124 988 122.657 988 121Z" fill="#767171" fill-rule="evenodd"/><rect x="935.5" y="185.5" width="112" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(953.559 203)">Track Chunk</text><rect x="935.5" y="235.5" width="112" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(953.559 254)">Track Chunk</text><rect x="935.5" y="288.5" width="112" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(953.559 307)">Track Chunk</text><rect x="935.5" y="137.5" width="112" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#DEEBF7"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" transform="translate(953.559 156)">Track Chunk<tspan fill="#4472C4" font-weight="400" font-size="16" x="6.24335" y="-107">Track n+1 </tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="19" x="-897.692" y="430">*</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" x="-878.492" y="430">The parameters </tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-size="15" x="-771.159" y="430">alg</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" x="-745.992" y="430">&amp; </tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-size="15" x="-732.159" y="430">hash</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" x="-693.825" y="430">at the top level of the </tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" x="-878.492" y="449">manifest CBOR serialization are used for monolithic </tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" x="-878.492" y="466">MP4, whereas </tspan><tspan fill="#0070C0" font-family="Arial,Arial_MSFontService,sans-serif" font-size="15" x="-780.825" y="466">alg</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" x="-755.659" y="466">&amp; hashes[] in the merkle tree row </tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" x="-878.492" y="484">objects are used for fragmented MP4.</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" x="-723.29" y="94">To verify track chunk m+3 you must first compare/verify the </tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" x="-723.29" y="112">corresponding initialization segment.</tspan></text><path d="M0 63 0 32.8076C0 17.5852 12.3402 5.24504 27.5625 5.24504L95.2775 5.24504 95.2775 0 113 6.21624 95.2775 12.4325 95.2775 7.18732 27.5625 7.18732C13.4129 7.18732 1.94228 18.6579 1.94228 32.8076L1.94228 63Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#4472C4" fill-rule="evenodd" transform="matrix(1.83697e-16 1 1 -1.83697e-16 625.5 418.5)"/><text fill="#002060" font-family="Calibri Light,Calibri Light_MSFontService,sans-serif" font-weight="700" font-size="16" transform="translate(541.561 630)">CBOR Serialization</text><rect x="539.5" y="531.5" width="119" height="81" stroke="#000000" stroke-width="0.666667" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text fill="#FF0000" font-family="Arial,Arial_MSFontService,sans-serif" font-weight="400" font-size="15" transform="translate(548.534 550)">•<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" x="18" y="0">uniqueId</tspan><tspan font-size="15" x="0" y="17">•</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="15" x="18" y="17">localId</tspan><tspan fill="#000000" font-size="15" x="0" y="35">•</tspan><tspan fill="#000000" font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="15" x="18" y="35">location</tspan><tspan fill="#000000" font-size="15" x="0" y="53">•</tspan><tspan fill="#000000" font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="15" x="18" y="53">hashes[]</tspan><tspan fill="#002060" font-family="Calibri Light,Calibri Light_MSFontService,sans-serif" font-weight="700" font-size="16" x="-477.126" y="-1">Track #n Merkle Row</tspan><tspan fill="#000000" font-size="15" x="-253.584" y="-257">The c2pa box in each Track’s initialization segment </tspan><tspan fill="#000000" font-size="15" x="-253.584" y="-239">will contain the Manifest (which must be identical </tspan><tspan fill="#000000" font-size="15" x="-253.584" y="-222">across tracks). The Manifest’s c2pa.bmff.hash </tspan><tspan fill="#000000" font-size="15" x="-253.584" y="-204">assertion will contain CBOR with an array of merkle </tspan><tspan fill="#000000" font-size="15" x="-253.584" y="-187">rows, one per track.</tspan></text></g></svg>